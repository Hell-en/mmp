Не забыть добавить

Предложения:
фильтр noise_reduction(1) сразу вводить в строку запроса как noise_reduction_1. Так нет скобок и строка сразу от=пределяется как фильтр.
В таком случае останутся 2 фильтра со скобками choosing_best() и cutting_areas(). А для них предлагаю разделить скобки. Один фильтр с (), а второй с []. Или {}, как вариант.
Для фильтроа из н в 1 мы говорим, что если в запросе есть ID фотографии, которой у нас нет в наличии, то запрос не обрабатывать. Предлагаю это вообще не обрабатывать или оставить на самый конец.

Связанные термины:
pipeline, workflow, Pipes and Filters pattern.
Бареры, списки ожидания событий, async

если у нас есть фильтр н в 1, он должен быть или 1 в строке запроса, или (если их больше 1) надо переписать строку запроса, чтобы сначала шел 1 фильтр н в 1(то есть объединить их все в 1), а потом последовательно все остальные фильтры. Предлагаю упростить: если больше одного - выдавать ошибку.

имеется ввиду, если есть строка (панорма, панорма, панорама, остальные фильтры), переписать такую строку в (панорама, остальные фильтры). То есть одно включение фильтра из н в 1.

задание звучит как "построить разные конвейеры на одних узлах". => строку с запросом надо проходить по порядку. Таким образом у нас будут разные конвейеры на одних и тех же узлах(фильтрах). Для этого надо строку с запросом проходить по порядку. "Пока строка не закончилась, проверяй, какой сейчас фильтр".

() есть не только в выборе лучше! но и еще в noise_reduction(1), noise_reduction(2), noise_reduction(3), cutting_areas(), choosing_best()!


Автоматически генерируемая документация!!



На вход подается файл формата txt. В нем ID фотографий и запрос. Фотографии расположены в отдельной папке. Если в папке нет хотя бы одной из фоторграфий - запрос обрабатываетсяч как некорректный.


Входные данные вида: ID запроса, ID фотографий для обработки, перечисление фильтров.


Корректный ввод: "1" "35455436" "noise_reduction(1) blur"
Корректный ввод: "43" "345325" "choosing_best(noise_reduction(1), noise_reduction(2)), cutting_areas(3)"
Некорректный ввод: "1 2" "рыетео" "filtr1 filtr2"
Проверки:
ID запроса: единственное целое число
ID фотографий: целое число (1 или несколько штук)
фильтры: обработка дальше.


для любого фильтра:
корректность ввода имени фильтра
иначе => ошибка ввода.


если фильтр из н в 1:
для panorama_stitching и HDR_conversion (если такой фильтр есть)
проверка, если одновременно panorama_stitching и HDR_conversion => ошибка ввода;
иначе
фильтр входит в строку запроса только 1 раз.
фильтр стоит на первом месте.
кол-во ID фотографий > 1.
ID фотографий содержат только те фотографии, которые есть в нашем доступе.
если любое условие не выполнияется => ошибка ввода.


если фильтр из 1 в 1 или из 1 в н, и нет фильтров anorama_stitching или HDR_conversion, то колво ID фотографий = 1!


для choosing_best() в скобках указаны фильтры 
noise_reduction(1) noise_reduction(2) noise_reduction(3).
если любое условие не выполнияется => ошибка ввода.


если фильтр из 1 в н:
для cutting_areas()(если такой фильтр есть)
в скобках указано целое число - колво областей для нарезки.
фильтр входит в строку запроса только 1 раз.
фильтр стоит на последнем месте.
если любое условие не выполнияется => ошибка ввода.


Время работы каждого фильтра:
panorama_stitching	---  (кол-во входных ID фотографий - 1)
HDR_conversion		---  (кол-во входных ID фотографий - 1)
choosing_best()         ---  1
noise_reduction_1	---  1
noise_reduction_2	---  2
noise_reduction_3	---  3
blur			---  1
cutting_areas()		---  (кол-во областей для нарезки - 1)



Полезные ссылки:
https://github.com/shishkin-pavel/nsu-sdt2020/blob/master/links.md#Concurrency
https://github.com/shishkin-pavel/nsu-sdt2020/blob/master/clojure-concurrency/clojure-concurrency-plan.pdf
https://www.youtube.com/watch?v=dGVqrGmwOAw
https://github.com/matthiasn/talk-transcripts/blob/master/Hickey_Rich/ClojureConcurrency.md
https://jacobian.org/2009/nov/10/what-to-write/



Помощь с конвейером?
https://github.com/potapenko/clj-conveyor
https://github.com/jrdoane/conveyor
https://github.com/keechma/keechma-pipelines
https://github.com/alradish/clojure-conveyor
